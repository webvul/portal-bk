ext {
	springVersion = "4.2.3.RELEASE"
	aspectjVersion="1.8.1"
	jacksonVersion="2.6.1"
}

allprojects {
	group 'com.kii.beehive'
	version '1.0-SNAPSHOT'

	apply plugin: 'java'


	repositories {
		mavenLocal()
		mavenCentral()
		jcenter()
	}


	dependencies {


		compile  "org.apache.logging.log4j:log4j-core:2.3"
		compile group:"org.slf4j",name:"slf4j-log4j12",version:"1.7.6"

		testCompile group:"org.springframework",name:"spring-test",version:"${springVersion}"

		testCompile 'junit:junit:4.12'

	}
}


task pullGit(type:Exec) {
	workingDir  './'
	commandLine 'git', 'pull', 'origin','master'
}

task buildwar(type:War , dependsOn:'pullGit'){

	archiveName "beehive-portal.war"
}

task deploy(type:Copy,dependsOn:'buildwar'){

	from('./web-mvc/build/libs/beehive-portal.war')
	into('/opt/tomcat/webapps')
}

